# 用途
数据一致性


在定义外键后，DBMS不允许删除在另一个表中具有关联行的行。例如，不能删除关联订单的顾客。删除该顾客的唯一方法是首先删除相关的订单（这表示还要删除相关的订单项）。


有的DBMS支持称为级联删除（cascadingdelete）的特性。如果启用，该特性在从一个表中删除行时删除所有相关的数据。例如，如果启用级联删除并且从Customers表中删除某个顾客，则任何关联的订单行也会被自动删除。


# 什么时候该用外键，什么时候不该用
外键是否采用看业务应用场景，以及开发成本的。

1. 互联网行业应用不推荐使用外键： *用户量大，并发度高，为此数据库服务器很容易成为性能瓶颈，尤其受 IO 能力限制，且不能轻易地水平扩展*；若是把数据一致性的控制放到事务中，也即让应用服务器承担此部分的压力，而应用服务器一般都是可以做到轻松地水平的伸缩

2. 传统行业
    a. 软件应用的人数有限，换句话说是可控的；
    b. 数据库服务器的数据量也一般不会超大，且活跃数据有限；


#为何说外键有性能问题
1. 数据库需要维护外键的内部管理；
2. 外键等于把数据的一致性事务实现，全部交给数据库服务器完成；
3. 有了外键，当做一些涉及外键字段的增，删，更新操作之后，需要触发相关操作去检查，而不得不消耗资源；
4. 外键还会因为需要请求对其他表内部加锁而容易出现死锁情况；



# 这个回答很有意思
因为很多答案对但是不精到，我再回答一个。这实际上不是个数据库问题，而是个架构问题。*使用外键与否，看你使用的框架是否有足够的事务管理能力。（其实不仅限于外键，还有一切可被替代的 db 高级特性）如果足够，那么应该尽量避免。理由很简单：app server 比 db server 便宜，而且拓展容易。*


https://www.zhihu.com/question/19600081/answer/15326724


# 总结
看了这么多答案，感觉就是在数据量通常比较大的互联网应用中，如果将数据的一致性业务交给数据库，即通过外键来完成，等于说给数据库增加了额外的性能负担，当数据量比较大时，数据库就会出现性能瓶颈，所以就需要将数据的一致性业务交给应用服务器，减轻数据库的负担；而且现在的开发框架都有这方面的功能，做起来也不复杂。